{"componentChunkName":"component---src-pages-getting-started-argocd-setup-index-mdx","path":"/getting-started/argocd-setup/","webpackCompilationHash":"8f8d1a33bf26564b67a5","result":{"pageContext":{"isCreatedByStatefulCreatePages":true,"frontmatter":{"title":"ArgoCD setup"},"relativePagePath":"/getting-started/argocd-setup/index.mdx","titleType":"page","MdxNode":{"id":"86403770-3e3e-5a8a-9551-bdeac41efc09","children":[],"parent":"3e907aac-f799-5e49-9694-7f3a929a1112","internal":{"content":"---\ntitle: ArgoCD setup\n---\n\n##  Configuration\n\nTo enable ArgoCD to work seamlessly with the Developer Tools\ninstallation you need to configure Artifactory to be used as a Helm Chart Repository.\nThis will enable the use of application Helm charts to be de-coupled from the docker image that is built with the Jenkins CI pipeline.\n\n### Update ConfigMap for ArgoCD\n\nIn the `config` directory there is a `yaml` file called `argocd-helm-repo.yaml`.\nEdit this file and modify the `- url:` to point to the URL of the Artificatory Repository.\n\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: argocd-cm\n  namespace: tools\ndata:\n  helm.repositories: |\n    - url: http://artifactory.catalyst-team-iks-cluster.us-east.containers.appdomain.cloud/artifactory/generic-local/catalyst-team/\n      name: catalyst-team\n```\n\nIf you have configured the Artifactory instance to store Helm charts from your CI pipeline with Jenkins. You can easily get this value by Logging into Artifactory and clicking on `Setup Me Up` tile and click on the repository `generic-local` \n\n![Setup](setupartifactory.png \"Setup Screen\")\n\nThis will open the detailed setup view and from here you can copy the URL from the setup screen.\n\n![Setup](artifactoryurlsetup.png \"Setup Screen\")\n\n### Run the `kubectl` Command\n\nNow you have edited the yaml file you need to make sure you are logged into the Command Line with either IBM Kubernetes Service or Red Hat OpenShift instructions.\n\nYou can test this by running the following commands :\n\n```bash \nkubectl get nodes | oc get nodes\n```\n\nThere is a helper shell script that you can run call `updateArgo.sh` this runs the following command to add the details of the Helm Registry with ArgoCD Config map.\n\n```\n#!/bin/bash\nkubectl apply -f argocd-helm-repo.yaml\n```\n\nOnce this is complete you can validate the configuration by opening the Config Map in the IKS Console or OpenShift Cluster Console. Navigate to the `tools` namespace and view the `Config Maps` open up the config map called `argocd-cm` and validate the the `Data` section now has a `helm.repositories` entry that is referencing Artifactory.\n\n","type":"Mdx","contentDigest":"1926db95d2adf535da2691789f0e077b","counter":206,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"ArgoCD setup"},"exports":{},"rawBody":"---\ntitle: ArgoCD setup\n---\n\n##  Configuration\n\nTo enable ArgoCD to work seamlessly with the Developer Tools\ninstallation you need to configure Artifactory to be used as a Helm Chart Repository.\nThis will enable the use of application Helm charts to be de-coupled from the docker image that is built with the Jenkins CI pipeline.\n\n### Update ConfigMap for ArgoCD\n\nIn the `config` directory there is a `yaml` file called `argocd-helm-repo.yaml`.\nEdit this file and modify the `- url:` to point to the URL of the Artificatory Repository.\n\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: argocd-cm\n  namespace: tools\ndata:\n  helm.repositories: |\n    - url: http://artifactory.catalyst-team-iks-cluster.us-east.containers.appdomain.cloud/artifactory/generic-local/catalyst-team/\n      name: catalyst-team\n```\n\nIf you have configured the Artifactory instance to store Helm charts from your CI pipeline with Jenkins. You can easily get this value by Logging into Artifactory and clicking on `Setup Me Up` tile and click on the repository `generic-local` \n\n![Setup](setupartifactory.png \"Setup Screen\")\n\nThis will open the detailed setup view and from here you can copy the URL from the setup screen.\n\n![Setup](artifactoryurlsetup.png \"Setup Screen\")\n\n### Run the `kubectl` Command\n\nNow you have edited the yaml file you need to make sure you are logged into the Command Line with either IBM Kubernetes Service or Red Hat OpenShift instructions.\n\nYou can test this by running the following commands :\n\n```bash \nkubectl get nodes | oc get nodes\n```\n\nThere is a helper shell script that you can run call `updateArgo.sh` this runs the following command to add the details of the Helm Registry with ArgoCD Config map.\n\n```\n#!/bin/bash\nkubectl apply -f argocd-helm-repo.yaml\n```\n\nOnce this is complete you can validate the configuration by opening the Config Map in the IKS Console or OpenShift Cluster Console. Navigate to the `tools` namespace and view the `Config Maps` open up the config map called `argocd-cm` and validate the the `Data` section now has a `helm.repositories` entry that is referencing Artifactory.\n\n","fileAbsolutePath":"/Users/seansund/ws/catalyst/garage-developer-guide/src/pages/getting-started/argocd-setup/index.mdx"}}}}